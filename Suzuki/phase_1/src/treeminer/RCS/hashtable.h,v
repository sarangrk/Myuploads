head	1.1;
access;
symbols;
locks
	zaki:1.1; strict;
comment	@ * @;


1.1
date	2001.06.24.19.16.01;	author zaki;	state Exp;
branches;
next	;


desc
@added pruning.
@


1.1
log
@Initial revision
@
text
@#ifndef __hasht_h
#define __hasht_h

#include <map> 
#include <hash_map>
#include <list>
#include <vector>
#include <functional>

#include "eqclass.h"

#define FHTSIZE 100 
//for pruning candidate subtrees
typedef hash_multimap<int, vector<int> *, hash<int>, equal_to<int> > cHTable;
typedef pair<cHTable::iterator, cHTable::iterator> cHTFind;
typedef cHTable::value_type cHTPair;

class FreqHT{
   vector<cHTable *> chtable;
public:
   FreqHT(int sz = FHTSIZE): chtable(sz, ((cHTable *) NULL)){}
   ~FreqHT(){ clearall(); }

   void clearall(){
      for (int i=0; i < chtable.size(); i++){
         if (chtable[i]){
            cHTable::iterator hi = chtable[i]->begin();
            for (; hi != chtable[i]->end(); hi++){
               delete (*hi).second;
            }
            chtable[i]->clear();
         }
      }
   }
   
   void add(int iter, Eqclass *eq);
   bool find(int iter, vector<int> &cand, int hval);
};

#endif
@
